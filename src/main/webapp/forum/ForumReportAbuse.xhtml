<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/WEB-INF/template/BjmTemplate.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <ui:define name="content">
        <div class="w3-col m7">
            <div class="w3-row-padding">
                <div class="w3-col m12">
                    <div class="w3-card w3-round w3-white">
                        <div class="w3-container w3-padding">
                            <h:form> 
                                <h4 class="w3-margin-left">Forum - Report Abuse</h4>
                                <div class="w3-row-padding" style="margin:0 -16px">
                                    <p class="w3-margin-left">You have chosen to Report abuse on the comment below.</p>
                                </div>
                                <br/>
                                <div class="w3-row-padding" style="margin:0 -16px">
                                    <h:inputTextarea id="comment" value="#{reportAbuseForumMBean.forumComment.comment}" rows="5" disabled="true" class="w3-margin-left" style="width: 95%"/>
                                </div>
                                <br/>
                                <div class="w3-row-padding" style="margin:0 -16px">
                                    <p class="w3-margin-left">Kindly, provide us with the information as what makes you think the comment of abusive.</p>
                                </div>
                                <br/>
                                <h:messages infoStyle="color:blue;" errorStyle="color:red;"/>
                                <div class="w3-row-padding" style="margin:0 -16px">
                                    <h:inputTextarea value="#{reportAbuseForumMBean.forumAbuse.reportText}" rows="5" style="width: 95%" 
                                                     pt:placeholder="Max chars is ${initParam.get('reportAbuseLimit')}" onkeypress="limitTextArea(this, ${initParam.get('reportAbuseLimit')})" onkeyup="limitTextArea(this, ${initParam.get('reportAbuseLimit')})" styleClass="w3-input w3-margin-left"  />
                                    <span id="counter"></span>
                                     
                                </div>
                                <br/>
                                <div class="w3-row-padding" style="margin:0 -16px">
                                    <div class="w3-half w3-center">
                                        <button type="reset" class="w3-button w3-theme-d1 w3-margin-left w3-margin-bottom">Reset</button>
                                    </div>
                                    <div class="w3-half w3-center">
                                        <h:commandButton action="#{reportAbuseForumMBean.reportAbuse()}" value="Submit" styleClass="w3-button w3-theme-d1 w3-margin-left w3-margin-bottom">
                                            <f:ajax execute="@form" render="@form"/>
                                        </h:commandButton>
                                    </div>
                                </div>   
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
                function limitTextArea(element, limit){
                    document.getElementById('counter').innerHTML = element.value.length;
                    if(element.value.length >= limit){
                        element.value = element.value.substring(0, limit);
                    }
                }
        </script>
    </ui:define>
</ui:composition>
